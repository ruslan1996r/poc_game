# –ù–∞–¥—ë–∂–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ UDP-—Å–æ–æ–±—â–µ–Ω–∏–π —Å Batch ACK –∏ sessionId

–ü—Ä–æ–µ–∫—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:

- **client.cpp** ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç UDP-–ø–∞–∫–µ—Ç—ã –∏ –∂–¥—ë—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞
- **server.cpp** ‚Äî –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–∞–∫–µ—Ç—ã, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏—Ö, –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ —Å –ø–æ–º–æ—â—å—é Batch ACK

---

## üß© –ö–ª–∏–µ–Ω—Ç (client.cpp)

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç:

- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π `sessionId` –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç 10 —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ–¥—Ä—è–¥ (`packetId` –æ—Ç 1 –¥–æ 10)
- –ü–æ—Å–ª–µ –∫–∞–∂–¥—ã—Ö 5 —Å–æ–æ–±—â–µ–Ω–∏–π (—Ä–∞–∑–º–µ—Ä –æ–∫–Ω–∞ ACK), –æ–∂–∏–¥–∞–µ—Ç `Batch ACK`
- –•—Ä–∞–Ω–∏—Ç –≤—Å–µ –Ω–µ–ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã
- –î–µ–ª–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ (retry), –µ—Å–ª–∏ –Ω–µ –ø–æ–ª—É—á–∏–ª ACK:
  - –ü–µ—Ä–≤—ã–µ 3 —Ä–µ—Ç—Ä–∞—è —Å —Ç–∞–π–º–∞—É—Ç–æ–º 200 –º—Å
  - –ü–æ—Å–ª–µ 3 –ø–æ–ø—ã—Ç–∫–∏ ‚Äî —É–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π —Ç–∞–π–º–∞—É—Ç 500 –º—Å
  - –ú–∞–∫—Å–∏–º—É–º 5 –ø–æ–ø—ã—Ç–æ–∫
- –£–¥–∞–ª—è–µ—Ç –ø–∞–∫–µ—Ç, –µ—Å–ª–∏ –æ–Ω –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω –ø–æ `ACK.receivedMask`

### –ü–æ—á–µ–º—É –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `sessionId`:

–°–µ—Ä–≤–µ—Ä –º–æ–∂–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å—Ä–∞–∑—É –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–ª–∏–µ–Ω—Ç–æ–≤ (–∏–ª–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∏ –∫–ª–∏–µ–Ω—Ç–∞).  
`sessionId` –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–µ—Ä–≤–µ—Ä—É –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å **–æ—Ç–¥–µ–ª—å–Ω–æ –¥–ª—è –∫–∞–∂–¥–æ–π —Å–µ—Å—Å–∏–∏**.
